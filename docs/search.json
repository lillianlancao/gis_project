[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Assessing Public Service Accessibility in Immigrant-Dense NYC Tracts",
    "section": "",
    "text": "This project examines the spatial relationship between immigrant populations and public services (schools and bus stops) in New York City. Guided by the hypothesis that “Census tracts with higher immigrant populations have lower accessibility to public services compared to tracts with lower immigrant populations,” the study uses GIS and spatial data science tools, including Ripley’s K-function and Monte Carlo simulations, to assess patterns of clustering or dispersion. The findings aim to identify accessibility gaps, providing actionable insights for urban planning to improve equity in public service distribution."
  },
  {
    "objectID": "index.html#introduction",
    "href": "index.html#introduction",
    "title": "Assessing Public Service Accessibility in Immigrant-Dense NYC Tracts",
    "section": "",
    "text": "This project examines the spatial relationship between immigrant populations and public services (schools and bus stops) in New York City. Guided by the hypothesis that “Census tracts with higher immigrant populations have lower accessibility to public services compared to tracts with lower immigrant populations,” the study uses GIS and spatial data science tools, including Ripley’s K-function and Monte Carlo simulations, to assess patterns of clustering or dispersion. The findings aim to identify accessibility gaps, providing actionable insights for urban planning to improve equity in public service distribution."
  },
  {
    "objectID": "index.html#methodology",
    "href": "index.html#methodology",
    "title": "Assessing Public Service Accessibility in Immigrant-Dense NYC Tracts",
    "section": "Methodology",
    "text": "Methodology\nThis study used Kernel Density Estimation and Ripley’s K-function with Monte Carlo simulations to analyze clustering and accessibility patterns between immigrant populations, schools, and bus stops in New York City. Results were visualized to identify gaps and validate the hypothesis."
  },
  {
    "objectID": "index.html#exploratory-data-analysis-eda",
    "href": "index.html#exploratory-data-analysis-eda",
    "title": "Assessing Public Service Accessibility in Immigrant-Dense NYC Tracts",
    "section": "Exploratory Data Analysis (EDA)",
    "text": "Exploratory Data Analysis (EDA)\nHere we plot the base GIS objects we’re analyzing: the location of each school (in red), each bus stop (in green), and immigrant population estimates(in blue polygon)\n\nlibrary(tidycensus)\nlibrary(sf)\nlibrary(dplyr)\nlibrary(tmap)\nlibrary(osmdata)\nlibrary(readr)\nlibrary(leaflet)\nlibrary(spdep)\nlibrary(spatstat)\n\n\n# Get immigrant population data\nnyc_data &lt;- get_acs(\n  geography = \"tract\",\n  variables = c(\"B05006_001E\"),  # Total foreign-born population\n  state = \"NY\",\n  county = c(\"New York\", \"Kings\", \"Queens\", \"Bronx\", \"Richmond\"),  \n  year = 2021,\n  survey = \"acs5\",\n  geometry = TRUE\n)\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |=                                                                     |   1%\n  |                                                                            \n  |=                                                                     |   2%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |===                                                                   |   4%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |====                                                                  |   6%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |======                                                                |   8%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |========                                                              |  12%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |==========                                                            |  15%\n  |                                                                            \n  |===========                                                           |  16%\n  |                                                                            \n  |============                                                          |  17%\n  |                                                                            \n  |=============                                                         |  18%\n  |                                                                            \n  |=============                                                         |  19%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |==============                                                        |  21%\n  |                                                                            \n  |===============                                                       |  22%\n  |                                                                            \n  |================                                                      |  22%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |=================                                                     |  24%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |==================                                                    |  26%\n  |                                                                            \n  |===================                                                   |  26%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |====================                                                  |  29%\n  |                                                                            \n  |=====================                                                 |  30%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |======================                                                |  31%\n  |                                                                            \n  |=======================                                               |  32%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |========================                                              |  35%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |==========================                                            |  36%\n  |                                                                            \n  |==========================                                            |  37%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |===========================                                           |  39%\n  |                                                                            \n  |============================                                          |  41%\n  |                                                                            \n  |=============================                                         |  41%\n  |                                                                            \n  |==============================                                        |  42%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  44%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |================================                                      |  46%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |==================================                                    |  48%\n  |                                                                            \n  |==================================                                    |  49%\n  |                                                                            \n  |===================================                                   |  50%\n  |                                                                            \n  |===================================                                   |  51%\n  |                                                                            \n  |====================================                                  |  51%\n  |                                                                            \n  |=====================================                                 |  52%\n  |                                                                            \n  |======================================                                |  54%\n  |                                                                            \n  |======================================                                |  55%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |========================================                              |  57%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |=========================================                             |  59%\n  |                                                                            \n  |==========================================                            |  60%\n  |                                                                            \n  |===========================================                           |  61%\n  |                                                                            \n  |===========================================                           |  62%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |=============================================                         |  64%\n  |                                                                            \n  |=============================================                         |  65%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |===============================================                       |  67%\n  |                                                                            \n  |================================================                      |  68%\n  |                                                                            \n  |================================================                      |  69%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |===================================================                   |  73%\n  |                                                                            \n  |====================================================                  |  74%\n  |                                                                            \n  |====================================================                  |  75%\n  |                                                                            \n  |=====================================================                 |  75%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |======================================================                |  77%\n  |                                                                            \n  |=======================================================               |  78%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |========================================================              |  79%\n  |                                                                            \n  |========================================================              |  80%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |=========================================================             |  82%\n  |                                                                            \n  |==========================================================            |  83%\n  |                                                                            \n  |===========================================================           |  84%\n  |                                                                            \n  |============================================================          |  85%\n  |                                                                            \n  |============================================================          |  86%\n  |                                                                            \n  |=============================================================         |  87%\n  |                                                                            \n  |=============================================================         |  88%\n  |                                                                            \n  |==============================================================        |  89%\n  |                                                                            \n  |===============================================================       |  89%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |================================================================      |  91%\n  |                                                                            \n  |================================================================      |  92%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |===================================================================   |  95%\n  |                                                                            \n  |===================================================================   |  96%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |====================================================================  |  98%\n  |                                                                            \n  |===================================================================== |  99%\n  |                                                                            \n  |======================================================================|  99%\n  |                                                                            \n  |======================================================================| 100%\n\n# Get school data\n\nschool_points &lt;- st_read(\"SchoolPoints_NYC/SchoolPoints_APS_2024_08_28.shp\")\n\nReading layer `SchoolPoints_APS_2024_08_28' from data source \n  `/Users/lillian/Desktop/gis_project/gis_project/SchoolPoints_NYC/SchoolPoints_APS_2024_08_28.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 1950 features and 7 fields\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -8264799 ymin: 4940084 xmax: -8205206 ymax: 4998085\nProjected CRS: WGS 84 / Pseudo-Mercator\n\n# Bus stop shelter data\n\nbus_stops &lt;- read_csv(\"Bus_Stop_Shelter.csv\")\n\nThe shaded polygons represent the density of the immigrant population in various areas of NYC. Red dots mark the locations of schools and green dots show bus stop shelters. From the plot we can get a rough idea that the red dots (schools) are distributed throughout the city but appear to be sparser in areas with higher immigrant densities (e.g., parts of the Bronx and Queens). The dark blue polygons (representing higher immigrant populations) appear concentrated in certain neighborhoods, such as parts of Queens, the Bronx, and Northern Manhattan and these areas generally show a dense distribution of bus stops (green dots), indicating that public transportation may be accessible in these regions. Overall, this plot does not provide sufficient clarity to evaluate the accessibility of public services in immigrant-dense communities. Further analysis is needed to gather more evidence and draw meaningful conclusions.\n\nnyc_data &lt;- st_as_sf(nyc_data, wkt = \"geometry\", crs = 4326)\nschool_points &lt;- st_as_sf(school_points, coords = c(\"Longitude\", \"Latitude\"), crs = 4326)\nbus_stops &lt;- st_as_sf(bus_stops, wkt = \"the_geom\", crs = 4326)\n\nnyc_data &lt;- st_transform(nyc_data, crs = 4326)\nschool_points &lt;- st_transform(school_points, crs = 4326)\nbus_stops &lt;- st_transform(bus_stops, crs = 4326)\n\n# Plot immigrant population, schools, and bus stops together\n\nleaflet() %&gt;%\n  addTiles() %&gt;%\n  addPolygons(data = nyc_data,\n              fillColor = ~colorQuantile(\"Blues\", estimate)(estimate),  \n              color = \"black\",\n              weight = 1,\n              fillOpacity = 0.8,\n              popup = ~paste0(\"Population: \", estimate)) %&gt;%\n  \n  addCircleMarkers(data = school_points,\n                   lat = ~Latitude,  \n                   lng = ~Longitude,  \n                   color = \"red\",\n                   radius = 3,\n                   label = ~Name,  \n                   popup = ~paste0(\"School Name: \", Name)) %&gt;%\n  \n  addCircleMarkers(data = bus_stops,\n                   lat = ~Latitude,  \n                   lng = ~Longitude,  \n                   color = \"green\",\n                   radius = 3,\n                   label = ~On_Street,  \n                   popup = ~paste0(\"Bus Stop: \", On_Street))"
  },
  {
    "objectID": "index.html#morans-i-analysis",
    "href": "index.html#morans-i-analysis",
    "title": "Assessing Public Service Accessibility in Immigrant-Dense NYC Tracts",
    "section": "Moran’s I analysis",
    "text": "Moran’s I analysis\nFirst, we want to determine whether there is a global pattern in the spatial distribution of immigrant population density because it provides a foundation to compare public service accessibility in these areas versus other regions.\nWhen processing the data, I found that my data contains disconnected sub-graphs.\n\nempty_geometries &lt;- st_is_empty(nyc_data)\nnyc_data &lt;- nyc_data[!empty_geometries, ]\n\nnyc_data &lt;- st_buffer(nyc_data, dist = 0)\nnb &lt;- poly2nb(nyc_data, queen = TRUE, snap = 0.5)\n\nsubgraphs &lt;- n.comp.nb(nb)\nprint(subgraphs$nc)\n\n[1] 4\n\nsubgraph_groups &lt;- subgraphs$comp.id\ntable(subgraph_groups)\n\nsubgraph_groups\n   1    2    3    4 \n2199  125    1    1 \n\n# Isolate polygons in smaller sub-graphs\nisolated_group &lt;- which(subgraph_groups != 1)\nisolated_polygons &lt;- nyc_data[isolated_group, ]\n\nplot(st_geometry(nyc_data), border = \"grey\")  # Plot all polygons\nplot(st_geometry(isolated_polygons), col = \"red\", add = TRUE)  # Highlight isolated polygons\n\n\n\n\nBased on the visualization, the disconnected sub-graphs represent isolated clusters of polygons. One prominent cluster is located in Staten Island (the large area on the left), while another small isolated polygon is found in the northeastern part of New York City. Staten Island’s geographical isolation is natural and expected. Considering the unique characteristics of Staten Island, it will be included in the analysis along with the other parts of New York City to ensure a comprehensive understanding of immigrant population distribution across the entire area.\n\nGlobal Moran’s I for Immigrant Population\n\n# Include Staten Island and other areas\n# Filter all relevant subgraph groups (ensure none are excluded)\nrelevant_clusters &lt;- which(subgraph_groups %in% c(1, 2)) \nnyc_data_main &lt;- nyc_data[relevant_clusters, ]\n\n# Recalculate neighbors for the combined clusters\nnyc_data_main &lt;- st_buffer(nyc_data_main, dist = 0.001)\nnb_main &lt;- poly2nb(nyc_data_main, queen = TRUE, snap = 1)\nweights_main &lt;- nb2listw(nb_main, style = \"W\", zero.policy = TRUE)\n\n# Calculate Moran's I\nmoran_test &lt;- moran.test(nyc_data_main$estimate, weights_main, zero.policy = TRUE)\nprint(moran_test)\n\n\n    Moran I test under randomisation\n\ndata:  nyc_data_main$estimate  \nweights: weights_main    \n\nMoran I statistic standard deviate = 33.303, p-value &lt; 2.2e-16\nalternative hypothesis: greater\nsample estimates:\nMoran I statistic       Expectation          Variance \n     0.3938480785     -0.0004304778      0.0001401649 \n\n\nThe positive Moran’s I statistic (0.39) and the extremely low p-value suggest that the immigrant population density in NYC exhibits statistically significant spatial clustering. This means that areas with higher immigrant population densities are geographically close to one another, rather than being randomly distributed or dispersed.\n\n\nLocal Moran’s I for Immigrant Population\n\n# Calculate Local Moran's I\nlibrary(spdep)\nlocal_moran &lt;- localmoran(nyc_data_main$estimate, weights_main)\n\n# Add Local Moran's I values and significance to the data\nnyc_data_main$local_I &lt;- local_moran[, 1]  # Moran's I value\nnyc_data_main$p_value &lt;- local_moran[, 5]  # p-value\n\n# Define cluster categories\nnyc_data_main$cluster &lt;- NA\nnyc_data_main$cluster[nyc_data_main$local_I &gt; 0 & nyc_data_main$p_value &lt;= 0.05] &lt;- \"High-High\"\nnyc_data_main$cluster[nyc_data_main$local_I &lt; 0 & nyc_data_main$p_value &lt;= 0.05] &lt;- \"Low-Low\"\nnyc_data_main$cluster[nyc_data_main$local_I &gt; 0 & nyc_data_main$p_value &gt; 0.05] &lt;- \"High-Low\"\nnyc_data_main$cluster[nyc_data_main$local_I &lt; 0 & nyc_data_main$p_value &gt; 0.05] &lt;- \"Low-High\"\nnyc_data_main$cluster[is.na(nyc_data_main$cluster)] &lt;- \"Not Significant\"\n\n# Convert cluster to factor for better visualization\nnyc_data_main$cluster &lt;- factor(nyc_data_main$cluster,\n                                levels = c(\"High-High\", \"Low-Low\", \"High-Low\", \"Low-High\", \"Not Significant\"))\n\nlibrary(leaflet)\n\n# Define color palette with exact mapping\npal &lt;- colorFactor(\n  palette = c(\"firebrick\", \"lightblue\", \"white\", \"gray\", \"gray95\"),\n  levels = c(\"High-High\", \"Low-Low\", \"High-Low\", \"Low-High\", \"Not Significant\") \n)\n\n# Create Leaflet map with consistent legend and fill colors\nleaflet(nyc_data_main) %&gt;%\n  addProviderTiles(providers$CartoDB.Positron) %&gt;%  \n  addPolygons(\n    fillColor = ~pal(cluster),                      \n    color = \"black\",                               \n    weight = 1,                                     \n    fillOpacity = 0.7,                              \n    popup = ~paste0(\n      \"&lt;b&gt;Cluster Type:&lt;/b&gt; \", cluster, \"&lt;br&gt;\",\n      \"&lt;b&gt;Local Moran's I:&lt;/b&gt; \", round(local_I, 3), \"&lt;br&gt;\",\n      \"&lt;b&gt;p-value:&lt;/b&gt; \", p_value\n    )                                              \n  ) %&gt;%\n  addLegend(\n    \"bottomright\",                                  \n    pal = pal,\n    values = ~cluster,\n    title = \"Local Moran's I Clusters\",\n    opacity = 0.7\n  )\n\n\n\n\n\n\nRed Areas indicate that high immigrant populations are spatially concentrated and surrounded by similarly high values. High-High clusters are evident in Queens and southeastern NYC, suggesting these regions are strong immigrant hubs. However, based on the plot, there are no strongly dominant clusters for immigrant populations across NYC.\nOverall, the significant Global Moran’s I suggests that, on average, immigrant population values exhibit some clustering across NYC. But the Local Moran’s I indicates that these clusters are not strong or widespread, with clustering patterns being scattered and spatially heterogeneous. NYC is highly diverse, and different boroughs or neighborhoods may have varying immigrant distributions. Global Moran’s I smooths out this variation into a single summary statistic, while Local Moran’s I highlights the localized nuances."
  },
  {
    "objectID": "index.html#assess-the-veracity-of-the-hypothesis",
    "href": "index.html#assess-the-veracity-of-the-hypothesis",
    "title": "Assessing Public Service Accessibility in Immigrant-Dense NYC Tracts",
    "section": "Assess the veracity of the hypothesis",
    "text": "Assess the veracity of the hypothesis\nThe clustering observed in Moran’s I indicates that immigrant populations exhibit spatial dependence. This gives a clue that there might be interactions or patterns worth investigating with public service locations (e.g., schools or bus stops).\nSince Moran’s I identified clustering, we can focus the intensity and pairwise analyses on areas with high immigrant densities to check for mismatches in public service access.\n\nKDE\n\n# Reproject data to a projected CRS (NAD83 / New York Long Island, EPSG:2263)\nnyc_data_projected &lt;- st_transform(nyc_data, crs = 2263)\nschool_points_projected &lt;- st_transform(school_points, crs = 2263)\nbus_stops_projected &lt;- st_transform(bus_stops, crs = 2263)\n\n# Convert to spatstat point patterns\nschools_ppp &lt;- as.ppp(st_coordinates(school_points_projected), W = as.owin(nyc_data_projected))\nbus_stops_ppp &lt;- as.ppp(st_coordinates(bus_stops_projected), W = as.owin(nyc_data_projected))\n\n\nschool_points_projected &lt;- school_points_projected[!duplicated(st_coordinates(school_points_projected)), ]\nschools_ppp &lt;- as.ppp(st_coordinates(school_points_projected), W = as.owin(nyc_data_projected))\n\nschools_ppp$intensity &lt;- schools_ppp$intensity * 1e6\nbus_stops_ppp$intensity &lt;- bus_stops_ppp$intensity * 1e6\n\n\nlibrary(spatstat.explore)\nlibrary(viridis)\n\n# Compute kernel density for schools\nschools_kde &lt;- density(schools_ppp, sigma = bw.diggle(schools_ppp))\n\n# Compute kernel density for bus stops\nbus_stops_kde &lt;- density(bus_stops_ppp, sigma = bw.diggle(bus_stops_ppp))\n\n# Visualize the intensity for schools\nplot(schools_kde, main = \"Kernel Density Estimate: Schools Intensity\")\ncontour(schools_kde, add = TRUE)  # Add contours for clarity\n\n\n\n\n\n# Visualize the kernel density estimate (KDE) for bus stops\n# Calculate the range of intensity values, excluding NA values\nvalid_range &lt;- range(bus_stops_kde$v, na.rm = TRUE) \n\nplot(bus_stops_kde,\n     main = \"Kernel Density Estimate: Bus Stops Intensity\",\n     col = plasma(156),           \n     zlim = valid_range,         \n     xlab = \"Longitude\",         \n     ylab = \"Latitude\",          \n     las = 1,                    \n     cex.axis = 0.8,             \n     cex.main = 1.2)            \n\n# Add more detailed contours\ncontour(bus_stops_kde,\n        add = TRUE,              \n        col = \"white\",           \n        lwd = 0.8,               \n        nlevels = 15)    \n\n\n\n\n\n# Reproject data to a projected CRS\nnyc_data_projected &lt;- st_transform(nyc_data, crs = 2263)\n\n# Calculate area (in square meters) and immigrant density\nnyc_data_projected$area &lt;- st_area(nyc_data_projected)\nnyc_data_projected$immigrant_density &lt;- nyc_data_projected$estimate / nyc_data_projected$area\n\n# Compute centroids\nimmigrant_coords &lt;- st_centroid(nyc_data_projected)\n\n# Create a coordinate matrix\ncoords_matrix &lt;- st_coordinates(immigrant_coords)\n\n# Check and filter points inside the boundary\ninside_window &lt;- inside.owin(x = coords_matrix[, 1], y = coords_matrix[, 2], w = as.owin(nyc_data_projected))\nif (!all(inside_window)) {\n  warning(sum(!inside_window), \" points were outside the window and will be removed.\")\n}\n\n# Filter data to include only points inside the boundary\nnyc_data_projected &lt;- nyc_data_projected[inside_window, ]\ncoords_matrix &lt;- coords_matrix[inside_window, ]\n\n# Create a planar point pattern (ppp) object\nimmigrant_ppp &lt;- as.ppp(coords_matrix, W = as.owin(nyc_data_projected))\n\n# Calculate Kernel Density Estimate (KDE) with weights\nimmigrant_kde &lt;- density(\n  immigrant_ppp,\n  weights = nyc_data_projected$immigrant_density,\n  sigma = bw.diggle(immigrant_ppp))\n\n\n# Visualize the KDE\nplot(immigrant_kde, main = \"Kernel Density Estimate: Immigrant Density\")\ncontour(immigrant_kde, add = TRUE)\n\n\n\n\n\n# Improved KDE Overlay Plot\npar(mfrow = c(1, 1))  \n\n# Plot Immigrant Density KDE (Base Layer)\nplot(immigrant_kde, main = \"Overlay of KDE: Immigrant Density, Schools, and Bus Stops\",\n     col = hcl.colors(100, \"YlOrRd\", alpha = 0.7), \n     legend = TRUE)  # Semi-transparent base map\n\n# Add School KDE (Contours)\ncontour(schools_kde, add = TRUE, col = \"blue\", lwd = 2, lty = 1)  \n\n# Add Bus Stop KDE (Contours)\ncontour(bus_stops_kde, add = TRUE, col = \"lightgreen\", lwd = 1, lty = 2)  \n\n# Enhanced Legend\nlegend(\"topright\", legend = c(\"Schools\", \"Bus Stops\"), \n       col = c(\"blue\", \"lightgreen\"), lty = c(1, 2), lwd = 2, \n       bty = \"n\", title = \"Contours\")\n\n\n\n\nAreas of high immigrant density are represented by lighter colors (yellow and orange) in the KDE plot. These areas are concentrated in specific boroughs like Queens and parts of Brooklyn, which are known for their large immigrant populations. In Queens, regions with high immigrant density show strong overlaps with schools (blue contours) and bus stops (green contours). This suggests these areas have relatively good access to public services. In contrast, southern Brooklyn, while having some high immigrant density areas, shows fewer overlaps with schools and bus stops, indicating potential gaps in accessibility in those regions. In Manhattan, high concentrations of public services (schools and bus stops) align more with commercial and residential density rather than immigrant density. Immigrant-dense neighborhoods in Upper Manhattan show moderate overlap, reflecting mixed accessibility.\n\n\nPairwise Correlation\n\nTo further validate these findings, we can perform quantitative spatial analysis (e.g., pairwise correlation functions) to confirm the spatial relationships between immigrant density and public services and also explore whether there are significant differences in accessibility across specific immigrant-dense neighborhoods.\nWe chose pairwise correlation using Ripley’s K-function to analyze the spatial relationship between public services and immigrant density. Ripley’s K-function is ideal for assessing clustering or dispersion at multiple spatial scales and allows us to test whether public services are spatially aligned with immigrant-dense areas. Its ability to incorporate weights, like immigrant density, makes it a robust tool for evaluating service accessibility.\n\n\nImmigrants’ Accessibility to Schools\n\n# Ensure nyc_data_projected is correctly projected and contains valid geometry\nnyc_data_projected &lt;- st_transform(nyc_data, crs = 2263)\nschool_points_projected &lt;- st_transform(school_points, crs = 2263)\n\n# Define the observation window (W) using the bounding polygon of nyc_data_projected\nW &lt;- as.owin(st_bbox(nyc_data_projected))  # Convert bounding box to owin\n\n# Recalculate centroids for immigrant data\nimmigrant_coords_projected &lt;- st_centroid(nyc_data_projected)\n\n# Extract coordinates for immigrants and schools\nimmigrant_coords &lt;- st_coordinates(immigrant_coords_projected)\nschool_coords &lt;- st_coordinates(school_points_projected)\n\n# Combine coordinates and create marks\ncombined_coords &lt;- rbind(immigrant_coords, school_coords)\nmarks &lt;- factor(c(rep(\"immigrant\", nrow(immigrant_coords)),\n                  rep(\"school\", nrow(school_coords))))\n\n# Filter out points lying outside the window\ninside_window &lt;- inside.owin(x = combined_coords[, 1], \n                             y = combined_coords[, 2], \n                             w = W)\n\nfiltered_coords &lt;- combined_coords[inside_window, ]\nfiltered_marks &lt;- marks[inside_window]\n\n# Create the multitype point pattern and plot Ripley's K-function\ntry({\n  multitype_ppp &lt;- as.ppp(filtered_coords, W = W)\n  marks(multitype_ppp) &lt;- filtered_marks\n  k_cross &lt;- Kcross(multitype_ppp, i = \"immigrant\", j = \"school\")\n  plot(k_cross, main = \"Ripley's K-Function: Immigrants vs Schools\")}, \n  silent = FALSE)\n\n\n\n\n\nThe black line starts being close to the blue dashed line at small r values, suggesting some initial dispersion or fewer schools near immigrant population centers in very small radii.\nAs r increases, the black line deviates and then rises above the Poisson line, indicating that schools may become more clustered around immigrant population centers over larger distances.\nConclusion: Schools tend to cluster around immigrant population centers at broader spatial scales. However, there might be a slight dispersion or lack of schools in very close proximity to immigrant population centers. This could suggest that schools are not immediately located near densely populated immigrant areas, potentially highlighting gaps in immediate spatial accessibility for these communities.\n\n\n# Number of simulations\nnsim &lt;- 999\n\n# Run 999 Monte Carlo simulations with Ripley's K-function\ntry({\n  simulated_k &lt;- envelope(\n    multitype_ppp,\n    fun = Kcross,\n    nsim = nsim,\n    i = \"immigrant\",\n    j = \"school\",\n    global = TRUE,  \n    savefuns = TRUE,  \n    savepatterns = TRUE  \n  )\n\n  # Plot observed versus simulated K-function envelopes\n  plot(\n    simulated_k,\n    main = \"Monte Carlo Envelope of Ripley's K-Function (Immigrants vs Schools)\",\n    legendargs = list(\n      x = \"topright\",\n      legend = c(\"Observed\", \"Simulated Envelope\"),\n      lty = c(1, 2),\n      col = c(\"black\", \"gray\")\n    )\n  )\n}, silent = FALSE)\n\nGenerating 999 simulations of CSR  ...\n1, 2, 3, ......10 [4:30 remaining] .........20 [4:08 remaining] ...\n......30 [4:02 remaining] .........40 [3:57 remaining] .........50 [3:58 remaining] ..\n.......60 [3:53 remaining] .........70 [3:50 remaining] .........80 [3:46 remaining] .\n........90 [3:46 remaining] .........100 [3:43 remaining] .........110\n [3:40 remaining] .........120 [3:37 remaining] .........130 [3:35 remaining] .........\n140 [3:32 remaining] .........150 [3:30 remaining] .........160 [3:28 remaining] ........\n.170 [3:26 remaining] .........180 [3:22 remaining] .........190 [3:19 remaining] .......\n..200 [3:17 remaining] .........210 [3:15 remaining] .........220 [3:13 remaining] ......\n...230 [3:10 remaining] .........240 [3:08 remaining] .........250 [3:06 remaining] .....\n....260 [3:04 remaining] .........270 [3:01 remaining] .........280 [2:59 remaining] ....\n.....290 [2:56 remaining] .........300 [2:54 remaining] .........310 [2:51 remaining] ...\n......320 [2:49 remaining] .........330 [2:46 remaining] .........340 [2:44 remaining] ..\n.......350 [2:41 remaining] .........360 [2:38 remaining] .........370 [2:36 remaining] .\n........380 [2:34 remaining] .........390 [2:31 remaining] .........400\n [2:28 remaining] .........410 [2:26 remaining] .........420 [2:24 remaining] .........\n430 [2:21 remaining] .........440 [2:19 remaining] .........450 [2:16 remaining] ........\n.460 [2:14 remaining] .........470 [2:11 remaining] .........480 [2:09 remaining] .......\n..490 [2:06 remaining] .........500 [2:04 remaining] .........510 [2:01 remaining] ......\n...520 [1:59 remaining] .........530 [1:56 remaining] .........540 [1:54 remaining] .....\n....550 [1:51 remaining] .........560 [1:49 remaining] .........570 [1:46 remaining] ....\n.....580 [1:44 remaining] .........590 [1:41 remaining] .........600 [1:39 remaining] ...\n......610 [1:36 remaining] .........620 [1:34 remaining] .........630 [1:32 remaining] ..\n.......640 [1:29 remaining] .........650 [1:26 remaining] .........660 [1:24 remaining] .\n........670 [1:22 remaining] .........680 [1:19 remaining] .........690\n [1:17 remaining] .........700 [1:14 remaining] .........710 [1:12 remaining] .........\n720 [1:09 remaining] .........730 [1:07 remaining] .........740 [1:04 remaining] ........\n.750 [1:02 remaining] .........760 [59 sec remaining] .........770 [57 sec remaining] .......\n..780 [54 sec remaining] .........790 [52 sec remaining] .........800 [50 sec remaining] ......\n...810 [47 sec remaining] .........820 [45 sec remaining] .........830 [42 sec remaining] .....\n....840 [40 sec remaining] .........850 [37 sec remaining] .........860 [35 sec remaining] ....\n.....870 [32 sec remaining] .........880 [30 sec remaining] .........890 [27 sec remaining] ...\n......900 [25 sec remaining] .........910 [22 sec remaining] .........920 [20 sec remaining] ..\n.......930 [17 sec remaining] .........940 [15 sec remaining] .........950 [12 sec remaining] .\n........960 [10 sec remaining] .........970 [7 sec remaining] .........980\n [5 sec remaining] .........990 [2 sec remaining] ........\n999.\n\nDone.\n\n\n\n\n\n\nNull Hypothesis: The spatial distribution of schools is independent of the spatial distribution of immigrant populations. Any observed clustering or dispersion between immigrant populations and schools is due to random spatial processes.\nFor smaller radii (r&lt;10,000), the black line is near or slightly above the envelope, suggesting a weak clustering of schools near immigrant population centers at smaller spatial scales. As r increases (10,000≤r≤30,000), the black line clearly rises above the simulated envelope, indicating strong clustering of schools around immigrant population centers over broader spatial scales.\nThe result supports the hypothesis that schools are clustered around immigrant population centers, particularly at medium to larger spatial scales. However, the lack of immediate clustering at very small radii may suggest that immigrants in certain tracts may face reduced access to schools in close proximity.\nThese findings could indicate that while schools are available within the broader community, they may not be optimally distributed to serve immigrant populations locally.\n\n\n\nImmigrants’ Accessibility to Bus Stops\n\n# Ensure nyc_data_projected and bus_stops are correctly projected and contain valid geometry\nnyc_data_projected &lt;- st_transform(nyc_data, crs = 2263)\nbus_stops_projected &lt;- st_transform(bus_stops, crs = 2263)\n\n# Define the observation window (W) using the bounding polygon of nyc_data_projected\nW &lt;- as.owin(st_bbox(nyc_data_projected))  # Convert bounding box to owin\n\n# Recalculate centroids for immigrant data\nimmigrant_coords_projected &lt;- st_centroid(nyc_data_projected)\n\n# Extract coordinates for immigrants and bus stops\nimmigrant_coords &lt;- st_coordinates(immigrant_coords_projected)\nbus_stop_coords &lt;- st_coordinates(bus_stops_projected)\n\n# Combine coordinates and create marks\ncombined_coords &lt;- rbind(immigrant_coords, bus_stop_coords)\nmarks &lt;- factor(c(rep(\"immigrant\", nrow(immigrant_coords)),\n                  rep(\"bus_stop\", nrow(bus_stop_coords))))\n\n# Filter out points lying outside the window\ninside_window &lt;- inside.owin(x = combined_coords[, 1], \n                             y = combined_coords[, 2], \n                             w = W)\n\nfiltered_coords &lt;- combined_coords[inside_window, ]\nfiltered_marks &lt;- marks[inside_window]\n\n# Create the multitype point pattern and plot Ripley's K-function\ntry({\n  multitype_ppp &lt;- as.ppp(filtered_coords, W = W)\n  marks(multitype_ppp) &lt;- filtered_marks\n  \n  # Calculate Ripley's K-function for immigrants and bus stops\n  k_cross &lt;- Kcross(multitype_ppp, i = \"immigrant\", j = \"bus_stop\")\n  \n  # Plot the result\n  plot(k_cross, main = \"Ripley's K-Function: Immigrants vs Bus Stops\")\n}, silent = FALSE)\n\n\n\n\n\nNull Hypothesis: The spatial distribution of bus stops is independent of the spatial distribution of immigrant populations. Any observed clustering or dispersion between immigrant populations and bus stops is due to random spatial processes.\nFor smaller radii (r&lt;10,000): The black line (is close to or slightly above the blue line, suggesting weak clustering of bus stops near immigrant population centers at smaller spatial scales.\nFor larger radii (r&gt;20,000): The black line continues to rise substantially above the blue line, indicating strong clustering of bus stops relative to immigrant population centers at larger spatial scales.\nTo conclude, The weaker clustering observed at smaller radii (r&lt;10,000) may suggest that bus stops are not immediately accessible in close proximity for certain immigrant populations, potentially reflecting a gap in transit infrastructure for some communities. At larger spatial scales, the observed clustering could indicate that immigrant populations are well-served by the transit network as a whole, even if some local gaps remain.\n\n\n# Number of simulations\nnsim &lt;- 999\n\n# Run 99 Monte Carlo simulations with Ripley's K-function\ntry({\n  # Perform envelope analysis for immigrants and bus stops\n  simulated_k_bus &lt;- e\n  nvelope(\n    multitype_ppp,           # Point pattern dataset\n    fun = Kcross,            # Cross-type Ripley's K-function\n    nsim = nsim,             # Number of simulations\n    i = \"immigrant\",         # Type for the first point pattern\n    j = \"bus_stop\",          # Type for the second point pattern\n    global = TRUE,           # Calculate a global envelope for better statistical inference\n    savefuns = TRUE,         # Save all simulated K-functions for detailed analysis\n    savepatterns = TRUE      # Save simulated point patterns for additional insights\n  )\n\n  # Plot observed versus simulated K-function envelopes\nplot(\n    simulated_k_bus,\n    main = \"Monte Carlo Envelope of Ripley's K-Function (Immigrants vs Bus Stops)\",\n    legendargs = list(\n      x = \"topright\",\n      legend = c(\"Observed\", \"Simulated Envelope\"),\n      lty = c(1, 2),\n      col = c(\"black\", \"gray\")\n    )\n  )\n}, silent = FALSE)\n\nError in eval(expr, envir, enclos) : object 'e' not found\n\n\n\nWhile bus stops are broadly clustered around immigrant populations, the lack of strong clustering at small spatial scales may indicate limited local accessibility in immigrant neighborhoods."
  },
  {
    "objectID": "index.html#conclusion",
    "href": "index.html#conclusion",
    "title": "Assessing Public Service Accessibility in Immigrant-Dense NYC Tracts",
    "section": "Conclusion",
    "text": "Conclusion\n\nBoth schools and bus stops demonstrate clustering patterns around immigrant population centers at medium and large spatial scales, suggesting that public services are broadly aligned with immigrant communities.\nHowever, weaker clustering at smaller scales highlights potential barriers to immediate accessibility for some immigrant-heavy census tracts.\nWhile the hypothesis correctly identifies challenges in localized access to public services for immigrant-heavy census tracts, the broader clustering patterns suggest that immigrants are not uniformly disadvantaged in terms of accessibility. Instead, the findings highlight localized gaps in service density, particularly for transit, rather than systemic exclusion across all scales."
  },
  {
    "objectID": "index.html#future-exploration",
    "href": "index.html#future-exploration",
    "title": "Assessing Public Service Accessibility in Immigrant-Dense NYC Tracts",
    "section": "Future Exploration",
    "text": "Future Exploration\n\nCommunity-Specific Analysis: Disaggregate immigrant populations by country of origin or language spoken to understand how accessibility challenges may vary between different immigrant communities.\nSpatial Accessibility Measures: Use GIS tools to calculate travel times from immigrant-dense areas to the nearest schools and bus stops, providing a more granular measure of accessibility than clustering patterns alone. Also incorporate road network data to examine how connectivity impacts accessibility to schools and transit for immigrant populations.\nIncorporate Additional Data Sources: Include variables such as income levels, car ownership rates, or household sizes to analyze how these factors intersect with immigrant populations and accessibility challenges."
  }
]